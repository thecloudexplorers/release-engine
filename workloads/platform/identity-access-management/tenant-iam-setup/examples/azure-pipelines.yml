resources:
  repositories:
  - repository: ReleaseEngine
    type: github
    endpoint: thecloudexplorers
    name: thecloudexplorers/ReleaseEngine
    ref: main

trigger: none
            
pool:
  vmImage: 'ubuntu-latest'

extends: 
  template: /common/pipelines/01-workloads/alz.platform.workload.yml@ReleaseEngine
  parameters:
    workloadSettings:
      configurationFilePath: /01-workloads/platform/identity-access-management/tenant-iam-setup/examples/_config
      environments:
        - dev
      # - prd
      deploymentScript:
        - name: Agent_ListDirectoryItems
          scriptExtension: ps1
          arguments:
        - name: Agent_ListEnvironmentVariables
          scriptExtension: ps1
          arguments: -Directory "$(Pipeline.Workspace)"